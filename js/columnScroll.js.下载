"use strict";(function(define){define(["jquery"],function($){return function(){return{init:init};function init($obj,options){var defaults={interTime:2,delayTime:1,autoScroll:false};var settings=$.extend(defaults,options);if(WebModel=="edit"){settings["autoScroll"]=false}var mdId=settings["mdId"];settings["$obj"]=$obj;settings["$page"]=$obj.children("div").children(".column-scroll-page");settings["$nav"]=$obj.children("ul").children("li");settings["$arrow"]=$obj.children(".scroll-arrow");settings["lock"]=true;settings["mouseOut"]=true;settings["$page"].eq(0).css("left",0).siblings().css("left","100%");settings["$obj"].attr("data-page",0);if(settings["$page"].length){settings["$nav"].removeClass("on");settings["$nav"].eq(0).addClass("on");if(defaults.autoScroll){scroll(settings);settings["$obj"].off("mouseenter.columnScroll").on("mouseenter.columnScroll",function(){clearInterval(settings.timer);settings["mouseOut"]=false});settings["$obj"].off("mouseleave.columnScroll").on("mouseleave.columnScroll",function(){clearInterval(settings.timer);settings["mouseOut"]=true;if(settings.autoScroll&&settings.lock){scroll(settings)}})}settings["$nav"].off("click").on("click",function(){if(settings["lock"]){clickNav($(this),settings)}});settings["$arrow"].off("click").on("click",function(){if(settings["lock"]){clickArrow($(this),settings)}})}}function styleModel(thiz,style){thiz.attributes.style=style.attr("style");var viewUtils=require("kenfor/viewUtils");viewUtils.operating();var mdId=style.attr("id");var colUtil=require("kenfor/columnUtils");colUtil.getRenewItemModel(mdId,function(item){item.attributes.style=style.attr("style")})}function move(settings,current,index){var temp=settings["$obj"].find(".ui-sortable-placeholder");if(!temp.length){clearInterval(settings.timer);settings["lock"]=false;if(current<index){settings["$page"].eq(current).stop().animate({left:"-100%"},settings.delayTime*1e3);settings["$page"].eq(index).css("left","100%")}if(current>index){settings["$page"].eq(current).stop().animate({left:"100%"},settings.delayTime*1e3);settings["$page"].eq(index).css("left","-100%")}settings["$page"].eq(index).stop().animate({left:"0"},settings.delayTime*1e3,function(){settings["lock"]=true;if(settings.autoScroll&&settings.mouseOut){scroll(settings)}});settings["$obj"].attr("data-page",index);settings["$nav"].removeClass("on");settings["$nav"].eq(index).addClass("on")}}function scroll(settings){settings.timer=setInterval(function(){var current=parseInt(settings["$obj"].attr("data-page")),index=current+1>settings["$page"].length-1?0:current+1;move(settings,current,index)},settings.interTime*1e3)}function clickNav($self,settings){if(!$self.hasClass("on")){var current=parseInt(settings["$obj"].attr("data-page")),index=$self.index();move(settings,current,index);settings["$obj"].attr("data-page",index);settings["$nav"].removeClass("on");settings["$nav"].eq(index).addClass("on")}}function clickArrow($self,settings){var current=parseInt(settings["$obj"].attr("data-page")),index;if($self.attr("prev")){index=current-1<0?settings["$page"].length-1:current-1}if($self.attr("after")){index=current+1>settings["$page"].length-1?0:current+1}move(settings,current,index)}}()})})(typeof define==="function"&&define.amd?define:function(deps,factory){if(typeof module!=="undefined"&&module.exports){module.exports=factory(require("jquery"))}else{window.columnScroll=factory(window.jQuery)}});